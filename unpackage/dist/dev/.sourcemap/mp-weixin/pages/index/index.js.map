{"version":3,"sources":["webpack:///D:/H5/QSBK/main.js","webpack:///D:/H5/QSBK/pages/index/index.vue?7b76","webpack:///D:/H5/QSBK/pages/index/index.vue?d6bd","webpack:///D:/H5/QSBK/pages/index/index.vue?1bac","webpack:///D:/H5/QSBK/pages/index/index.vue?9e9a","webpack:///D:/H5/QSBK/pages/index/index.vue"],"names":["createPage","Page","components","sIndexList","sTabBar","sLoadMore","onLoad","uni","getStorage","key","complete","res","data","isLogin","userInfo","JSON","parse","getTabList","getSystemInfo","success","height","windowHeight","upx2px","swiperHeight","$on","e","tabBars","forEach","parentv","listData","v","user_id","userId","hasAttention","tabIndex","scrollInto","loadText","methods","handleItemClick","index","id","handleSwiperChange","detail","current","length","getListData","request","url","config","BASE_URL","then","result","list","name","classname","tabId","currentPageNum","header","token","showToast","title","changeAttention","user","fens","find","fv","handleReachBottom","handleAddAttention","console","log","onNavigationBarSearchInputClicked","navigateTo","onNavigationBarButtonTap"],"mappings":"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","file":"pages/index/index.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\nimport Vue from 'vue'\nimport Page from './pages/index/index.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=793bb62a&scoped=true&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../Tools/HBuilderX.2.6.15.20200421.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"793bb62a\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"H5/QSBK/pages/index/index.vue\"\nexport default component.exports","export * from \"-!../../../../Tools/HBuilderX.2.6.15.20200421.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../Tools/HBuilderX.2.6.15.20200421.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../Tools/HBuilderX.2.6.15.20200421.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../Tools/HBuilderX.2.6.15.20200421.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../Tools/HBuilderX.2.6.15.20200421.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../Tools/HBuilderX.2.6.15.20200421.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=template&id=793bb62a&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../Tools/HBuilderX.2.6.15.20200421.full/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../Tools/HBuilderX.2.6.15.20200421.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../Tools/HBuilderX.2.6.15.20200421.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../Tools/HBuilderX.2.6.15.20200421.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../Tools/HBuilderX.2.6.15.20200421.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../Tools/HBuilderX.2.6.15.20200421.full/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../Tools/HBuilderX.2.6.15.20200421.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../Tools/HBuilderX.2.6.15.20200421.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../Tools/HBuilderX.2.6.15.20200421.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../Tools/HBuilderX.2.6.15.20200421.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport sIndexList from \"../../component/index/s-index-list.vue\";\nimport sTabBar from \"../../component/index/s-tab-bar.vue\";\nimport sLoadMore from \"../../component/index/s-load-more.vue\"\nexport default {\n\tcomponents: {\n\t\tsIndexList,\n\t\tsTabBar,\n\t\tsLoadMore\n\t},\n\tonLoad() {\n\t\tuni.getStorage({\n\t\t\tkey: \"userinfo\",\n\t\t\tcomplete: (res) => {\n\t\t\t\tif (res.data == null || res.data == '') {\n\t\t\t\t\tthis.isLogin = false\n\t\t\t\t} else {\n\t\t\t\t\tthis.isLogin = true\n\t\t\t\t\tthis.userInfo = JSON.parse(res.data)\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\t\tthis.getTabList()\n\t\tuni.getSystemInfo({\n\t\t\tsuccess: (res) => {\n\t\t\t\tlet height = res.windowHeight - uni.upx2px(80)\n\t\t\t\tthis.swiperHeight = height;\n\t\t\t}\n\t\t});\n\t\tuni.$on(\"handleAddAttention\", (e) => {\n\t\t\tthis.tabBars.forEach(parentv => {\n\t\t\t\tparentv.listData.forEach(v => {\n\t\t\t\t\tif (v.user_id == e.userId) {\n\t\t\t\t\t\tv.hasAttention = true\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t})\n\t\t\tthis.listData = this.tabBars[this.tabIndex].listData\n\t\t})\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tswiperHeight: 600,\n\t\t\ttabIndex: 1,\n\t\t\ttabBars: [],\n\t\t\tscrollInto: \"\",\n\t\t\tloadText: \"上拉加载更多...\",\n\t\t\tlistData: [],\n\t\t\tuserInfo: {},\n\t\t\tisLogin: false\n\t\t}\n\t},\n\tmethods: {\n\t\t//TabBar点击事件\n\t\thandleItemClick(index) {\n\t\t\tthis.tabIndex = index\n\t\t\tthis.scrollInto = this.tabBars[index].id\n\t\t},\n\t\t//滑动切换\n\t\thandleSwiperChange(e) {\n\t\t\tthis.tabIndex = e.detail.current\n\t\t\tthis.scrollInto = this.tabBars[e.detail.current].id\n\t\t\tif (this.tabBars[this.tabIndex].listData.length <= 0) {\n\t\t\t\tthis.getListData()\n\t\t\t} else {\n\t\t\t\tthis.listData = this.tabBars[this.tabIndex].listData\n\t\t\t}\n\t\t},\n\t\t//获取tablist数据\n\t\tgetTabList() {\n\t\t\tthis.request({\n\t\t\t\turl: this.config.BASE_URL + \"postclass\"\n\t\t\t}).then(result => {\n\t\t\t\tthis.tabBars = result.data.list\n\t\t\t\tthis.tabBars.forEach(v => {\n\t\t\t\t\tv.name = v.classname\n\t\t\t\t\tv.tabId = v.id\n\t\t\t\t\tv.id = \"id\" + v.id\n\t\t\t\t\tv.currentPageNum = 1\n\t\t\t\t\tv.listData = []\n\t\t\t\t})\n\t\t\t\tthis.getListData()\n\t\t\t})\n\t\t},\n\t\t// 获取列表数据\n\t\tgetListData() {\n\t\t\t// this.listData = []\n\t\t\tthis.request({\n\t\t\t\turl: this.config.BASE_URL + \"postclass/\" + this.tabBars[this.tabIndex].tabId + \"/post/\" + this.tabBars[this.tabIndex]\n\t\t\t\t\t.currentPageNum,\n\t\t\t\theader: {\n\t\t\t\t\ttoken: this.isLogin ? this.userInfo.token : ''\n\t\t\t\t}\n\t\t\t}).then(res => {\n\t\t\t\tif (res.data.list.length <= 0) {\n\t\t\t\t\treturn uni.showToast({\n\t\t\t\t\t\ttitle: \"没有更多数据了\"\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t\tthis.tabBars[this.tabIndex].listData = [...this.tabBars[this.tabIndex].listData, ...res.data.list]\n\t\t\t\tthis.tabBars[this.tabIndex].currentPageNum = this.tabBars[this.tabIndex].currentPageNum + 1\n\t\t\t\tthis.changeAttention()\n\t\t\t\tthis.listData = this.tabBars[this.tabIndex].listData\n\t\t\t})\n\t\t},\n\t\tchangeAttention() {\n\t\t\tthis.tabBars.forEach(parentv => {\n\t\t\t\tparentv.listData.forEach(v => {\n\t\t\t\t\tv.user.fens.find(fv => {\n\t\t\t\t\t\tif (fv.id == this.userInfo.id) {\n\t\t\t\t\t\t\tv.hasAttention = true\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t})\n\t\t\t})\n\t\t},\n\t\t//到达底部\n\t\thandleReachBottom() {\n\t\t\tthis.loadText = \"加载中...\"\n\t\t\tthis.getListData()\n\t\t},\n\t\thandleAddAttention(e) {\n\t\t\t// this.tabBars.forEach(parentv => {\n\t\t\t// \tparentv.listData.forEach(v => {\n\t\t\t// \t\tif (v.user_id == e.userId) {\n\t\t\t// \t\t\tv.hasAttention = true\n\t\t\t// \t\t}\n\t\t\t// \t})\n\t\t\t// })\n\t\t\tthis.listData.forEach(v => {\n\t\t\t\tif (v.user_id == e.userId) {\n\t\t\t\t\tv.hasAttention = true\n\t\t\t\t}\n\t\t\t})\n\t\t\tconsole.log(this.listData)\n\t\t}\n\t},\n\tonNavigationBarSearchInputClicked() {\n\t\tuni.navigateTo({\n\t\t\turl: \"search-index/search-index?type=qiushi\"\n\t\t})\n\t},\n\tonNavigationBarButtonTap(e) {\n\t\tswitch (e.index) {\n\t\t\tcase 0:\n\t\t\t\t// 签到按钮\n\t\t\t\tbreak;\n\t\t\tcase 1:\n\t\t\t\t// 发布按钮\n\t\t\t\tuni.navigateTo({\n\t\t\t\t\turl: \"/pages/index/index-publish/index-publish\"\n\t\t\t\t})\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t}\n}\n"],"sourceRoot":""}